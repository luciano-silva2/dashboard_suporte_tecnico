"use strict";(self.webpackChunkprojeto_final=self.webpackChunkprojeto_final||[]).push([[90],{5090:(e,s,a)=>{a.r(s),a.d(s,{default:()=>T});var c=a(5043),l=a(2757),d=a(5472),i=a(3204),t=a(108),r=a(1474),n=a(7734),o=a(2185),m=a(760),x=a(379),h=a(95),j=a(1175),u=a(7890),v=a(1281),N=a(7869),b=a(4960),f=a(5036),p=a(9866),g=a(3721),y=a(3968);var k=a(579);const w=["#0088FE","#00C49F","#FFBB28","#FF8042"];function T(){const[e,s]=(0,c.useState)([]),[a,T]=(0,c.useState)({total:0,abertos:0,resolvidos:0,pendentes:0,mediaResolucao:"N/A",porTecnico:{},sla:0});(0,c.useEffect)(()=>{const e=(0,d.aQ)((0,d.rJ)(l.db,"tickets"),e=>{const a=e.docs.map(e=>{var s,a;return{id:e.id,...e.data(),data:(null===(s=e.data().data)||void 0===s||null===(a=s.toDate)||void 0===a?void 0:a.call(s))||new Date}});s(a)});return()=>e()},[]),(0,c.useEffect)(()=>{if(e.length>0){const s=function(e){const s=e.length,a=e.filter(e=>"aberto"===e.status).length,c=e.filter(e=>"resolvido"===e.status).length;return{total:s,abertos:a,resolvidos:c,pendentes:e.filter(e=>"em_andamento"===e.status).length,mediaResolucao:"Dados insuficientes",porTecnico:e.reduce((e,s)=>(s.tecnico&&(e[s.tecnico]=(e[s.tecnico]||0)+1),e),{}),sla:s>0?c/s*100:0}}(e);T(s)}},[e]);const F=(0,c.useMemo)(()=>[{name:"Abertos",value:a.abertos},{name:"Resolvidos",value:a.resolvidos},{name:"Pendentes",value:a.pendentes}],[a]),A=(0,c.useMemo)(()=>{const s=e.reduce((e,s)=>(e[s.prioridade]=(e[s.prioridade]||0)+1,e),{});return Object.keys(s).map(e=>({name:e,value:s[e]}))},[e]),K=(0,c.useMemo)(()=>Object.entries(a.porTecnico).map(e=>{let[s,c]=e;return{subject:s,A:c,fullMark:a.total}}),[a.porTecnico,a.total]);return(0,k.jsxs)("div",{className:"container-fluid",children:[(0,k.jsx)("h3",{className:"mb-4",children:"Dashboard de Suporte T\xe9cnico"}),(0,k.jsxs)("div",{className:"row mb-4",children:[(0,k.jsx)("div",{className:"col-lg-3 col-md-6 mb-4",children:(0,k.jsx)("div",{className:"card card-kpi",children:(0,k.jsx)("div",{className:"card-body",children:(0,k.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h5",{className:"card-title",children:"Total de Tickets"}),(0,k.jsx)("p",{className:"card-text fs-2",children:a.total})]}),(0,k.jsx)(i.tVd,{className:"card-icon"})]})})})}),(0,k.jsx)("div",{className:"col-lg-3 col-md-6 mb-4",children:(0,k.jsx)("div",{className:"card card-kpi",children:(0,k.jsx)("div",{className:"card-body",children:(0,k.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h5",{className:"card-title",children:"Tickets Abertos"}),(0,k.jsx)("p",{className:"card-text fs-2",children:a.abertos})]}),(0,k.jsx)(i.xdT,{className:"card-icon"})]})})})}),(0,k.jsx)("div",{className:"col-lg-3 col-md-6 mb-4",children:(0,k.jsx)("div",{className:"card card-kpi",children:(0,k.jsx)("div",{className:"card-body",children:(0,k.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h5",{className:"card-title",children:"Tickets Resolvidos"}),(0,k.jsx)("p",{className:"card-text fs-2",children:a.resolvidos})]}),(0,k.jsx)(i.A7C,{className:"card-icon"})]})})})}),(0,k.jsx)("div",{className:"col-lg-3 col-md-6 mb-4",children:(0,k.jsx)("div",{className:"card card-kpi "+(a.sla>90?"bg-success text-white":"bg-warning"),children:(0,k.jsx)("div",{className:"card-body",children:(0,k.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h5",{className:"card-title",children:"SLA"}),(0,k.jsxs)("p",{className:"card-text fs-2",children:[a.sla.toFixed(2),"%"]})]}),(0,k.jsx)(i.w_X,{className:"card-icon"})]})})})})]}),(0,k.jsxs)("div",{className:"row",children:[(0,k.jsx)("div",{className:"col-lg-6 mb-4",children:(0,k.jsx)("div",{className:"card",children:(0,k.jsxs)("div",{className:"card-body",children:[(0,k.jsx)("h5",{className:"card-title",children:"Tickets por Status"}),(0,k.jsx)(t.u,{width:"100%",height:300,children:(0,k.jsxs)(r.E,{data:F,children:[(0,k.jsx)(n.d,{strokeDasharray:"3 3"}),(0,k.jsx)(o.W,{dataKey:"name"}),(0,k.jsx)(m.h,{}),(0,k.jsx)(x.m,{}),(0,k.jsx)(h.s,{}),(0,k.jsx)(j.y,{dataKey:"value",fill:"#8884d8"})]})})]})})}),(0,k.jsx)("div",{className:"col-lg-6 mb-4",children:(0,k.jsx)("div",{className:"card",children:(0,k.jsxs)("div",{className:"card-body",children:[(0,k.jsx)("h5",{className:"card-title",children:"Tickets por Prioridade"}),(0,k.jsx)(t.u,{width:"100%",height:300,children:(0,k.jsxs)(u.r,{children:[(0,k.jsx)(v.F,{data:A,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:!0,children:A.map((e,s)=>(0,k.jsx)(N.f,{fill:w[s%w.length]},`cell-${s}`))}),(0,k.jsx)(x.m,{}),(0,k.jsx)(h.s,{})]})})]})})}),(0,k.jsx)("div",{className:"col-lg-12 mb-4",children:(0,k.jsx)("div",{className:"card",children:(0,k.jsxs)("div",{className:"card-body",children:[(0,k.jsx)("h5",{className:"card-title",children:"Performance por T\xe9cnico"}),(0,k.jsx)(t.u,{width:"100%",height:300,children:(0,k.jsxs)(b.V,{cx:"50%",cy:"50%",outerRadius:"80%",data:K,children:[(0,k.jsx)(f.z,{}),(0,k.jsx)(p.r,{dataKey:"subject"}),(0,k.jsx)(g.E,{}),(0,k.jsx)(y.V,{name:"Tickets",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),(0,k.jsx)(x.m,{}),(0,k.jsx)(h.s,{})]})})]})})})]})]})}}}]);
//# sourceMappingURL=90.d2e87b39.chunk.js.map