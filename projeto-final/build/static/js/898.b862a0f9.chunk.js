"use strict";(self.webpackChunkprojeto_final=self.webpackChunkprojeto_final||[]).push([[898],{2898:(e,a,l)=>{l.r(a),l.d(a,{default:()=>u});var t=l(5043),o=l(9615),s=l(5472),r=l(2757),i=l(9857),n=l(6156),c=(l(5015),l(9847)),d=l(579);function u(){const[e,a]=(0,t.useState)("Antony"),[l,u]=(0,t.useState)(""),[m,v]=(0,t.useState)(""),[p,h]=(0,t.useState)(null),[b,f]=(0,t.useState)(null),[x,j]=(0,t.useState)(null),[g,N]=(0,t.useState)(new Date),y=(0,o.Zp)();(0,t.useEffect)(()=>{const e=r.j.currentUser;e&&(a(e.displayName||"Usu\xe1rio sem nome"),u(e.email||""))},[]);return(0,d.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),l&&p&&b&&x){try{await(0,s.gS)((0,s.rJ)(r.db,"tickets"),{nome:e,email:l,problema:m,prioridade:p.value,status:b.value,tecnico:x.value,data:s.Dc.fromDate(g)}),alert("Ticket criado com sucesso"),y("/tickets")}catch(t){console.error("Erro ao criar ticket:",t)}console.log(r.j)}else alert("Preencha todos os campos obrigat\xf3rios")},className:"border rounded p-4 shadow-sm bg-white mb-4",children:[(0,d.jsx)("h5",{className:"mb-3",children:"Criar Novo Ticket"}),(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{type:"text",className:"form-control",value:e,onChange:e=>a(e.target.value),placeholder:"Digite seu nome",required:!0,readOnly:!0})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{type:"email",className:"form-control",value:l,onChange:e=>u(e.target.value),placeholder:"Digite seu e-mail",required:!0,readOnly:!0})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{type:"text",className:"form-control",value:m,onChange:e=>v(e.target.value),placeholder:"Descreva o problema",required:!0})})]}),(0,d.jsxs)("div",{className:"row g-3 mt-3",children:[(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)(i.Ay,{value:p,onChange:h,options:c.$G,placeholder:"Prioridade",classNamePrefix:"react-select"})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)(i.Ay,{value:b,onChange:f,options:c.FJ,placeholder:"Status",classNamePrefix:"react-select"})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)(i.Ay,{value:x,onChange:j,options:c.BA,placeholder:"T\xe9cnico respons\xe1vel",classNamePrefix:"react-select"})})]}),(0,d.jsx)("div",{className:"row g-3 mt-3",children:(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)(n.Ay,{selected:g,onChange:N,dateFormat:"dd/MM/yyyy",placeholderText:"Data do ticket",className:"form-control"})})}),(0,d.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,d.jsx)("button",{type:"submit",className:"btn btn-primary px-4",children:"Criar Ticket"})})]})}},9847:(e,a,l)=>{l.d(a,{$G:()=>o,BA:()=>r,FJ:()=>s,KC:()=>n,iv:()=>i});l(7762),l(4857);var t=l(2450);const o=[{value:"urgente",label:"Urgente"},{value:"alta",label:"Alta"},{value:"media",label:"M\xe9dia"},{value:"baixa",label:"Baixa"}],s=[{value:"aberto",label:"Aberto"},{value:"em_andamento",label:"Em andamento"},{value:"resolvido",label:"Resolvido"},{value:"cancelado",label:"Cancelado"}],r=[{value:"joao",label:"Jo\xe3o"},{value:"ana",label:"Ana"},{value:"maria",label:"Maria"}];function i(e,a){const{searchTerm:l,filtroStatus:t,filtroPrioridade:o,filtroDataInicial:s,filtroDataFinal:r,filtroTecnico:i}=a;return e.filter(e=>{var a,n,c;const d=(null===l||void 0===l?void 0:l.toLowerCase())||"",u=!d||(null===(a=e.nome)||void 0===a?void 0:a.toLowerCase().includes(d))||(null===(n=e.problema)||void 0===n?void 0:n.toLowerCase().includes(d))||(null===(c=e.email)||void 0===c?void 0:c.toLowerCase().includes(d)),m=!t||e.status===t.value,v=!o||e.prioridade===o.value,p=(!s||e.data>=s)&&(!r||e.data<=r),h=!i||e.tecnico===i.value;return u&&m&&v&&p&&h})}function n(e){const a=e.map(e=>{var a,l;return[e.nome,e.email||"",e.problema,e.prioridade,e.status,e.tecnico,(null===(a=e.data)||void 0===a||null===(l=a.toLocaleDateString)||void 0===l?void 0:l.call(a))||""]}),l=[["Nome","Email","Problema","Prioridade","Status","T\xe9cnico","Data"].join(","),...a.map(e=>e.map(c).join(","))].join("\n"),o=new Blob([l],{type:"text/csv;charset=utf-8;"});(0,t.saveAs)(o,"tickets.csv")}function c(e){return"string"===typeof e&&(e.includes(",")||e.includes('"')||e.includes("\n"))?`"${e.replace(/"/g,'""')}"`:null!==e&&void 0!==e?e:""}}}]);
//# sourceMappingURL=898.b862a0f9.chunk.js.map